*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#fafafa;--bg-card:#ffffff;--bg-card-hover:#f4f4f5;
  --border:#e4e4e7;--border-hover:#a1a1aa;
  --ring:#71717a;--ring-offset:#ffffff;
  --fg:#18181b;--fg-muted:#52525b;--fg-dim:#a1a1aa;
  --primary:#f97316;--primary-fg:#fff;--primary-hover:#ea580c;--primary-subtle:#fef3e6;
  --success:#16a34a;--success-subtle:#e9f7ef;--success-fg:#16a34a;
  --danger:#dc2626;--danger-subtle:#fdeced;--danger-fg:#dc2626;
  --info:#2563eb;--info-subtle:#eaeffc;--info-fg:#2563eb;
  --purple:#7c3aed;--purple-subtle:#f0eafc;
  --radius:8px;--radius-lg:12px;
  --shadow-sm:0 1px 2px rgba(0,0,0,.05);
  --shadow:0 1px 3px rgba(0,0,0,.1),0 1px 2px rgba(0,0,0,.06);
  --transition:150ms cubic-bezier(.4,0,.2,1);
  --font:-apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans TC",sans-serif;
}
html{font-family:var(--font);background:var(--bg);color:var(--fg);line-height:1.5;-webkit-font-smoothing:antialiased}
body{min-height:100vh;background:var(--bg)}
#app{max-width:680px;margin:0 auto;padding:16px 16px 80px}

/* === BUTTONS === */
.btn{display:inline-flex;align-items:center;justify-content:center;gap:6px;padding:8px 16px;font-size:.875rem;font-weight:500;font-family:var(--font);line-height:1.25rem;border-radius:var(--radius);border:1px solid transparent;cursor:pointer;transition:all var(--transition);white-space:nowrap;outline:none}
.btn:focus-visible{box-shadow:0 0 0 2px var(--ring-offset),0 0 0 4px var(--ring)}
.btn-primary{background:var(--primary);color:var(--primary-fg);border-color:var(--primary)}
.btn-primary:hover{background:var(--primary-hover)}
.btn-outline{background:transparent;color:var(--fg);border-color:var(--border)}
.btn-outline:hover{background:var(--bg-card-hover);border-color:var(--border-hover)}
.btn-ghost{background:transparent;color:var(--fg-muted);border:none}
.btn-ghost:hover{background:var(--bg-card);color:var(--fg)}
.btn-sm{padding:6px 12px;font-size:.8rem}
.btn[disabled]{opacity:.4;cursor:not-allowed;pointer-events:none}

/* === CARD === */
.card{background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius-lg);overflow:hidden;box-shadow:var(--shadow-sm)}
.card-header{padding:16px 20px;border-bottom:1px solid var(--border)}
.card-body{padding:20px}
.card-footer{padding:12px 20px;border-top:1px solid var(--border);display:flex;gap:8px;align-items:center}

/* === BADGE === */
.badge{display:inline-flex;align-items:center;padding:2px 8px;font-size:.75rem;font-weight:500;border-radius:9999px;border:1px solid transparent;line-height:1.4}
.badge-primary{background:#ffffff;color:var(--primary);border-color:var(--primary)}
.badge-success{background:var(--success-subtle);color:var(--success-fg);border-color:#b3e6c7}
.badge-danger{background:var(--danger-subtle);color:var(--danger-fg);border-color:#f5b5b5}
.badge-muted{background:#f0f0f1;color:var(--fg-muted);border-color:#d9d9dd}
.badge-purple{background:var(--purple-subtle);color:var(--purple);border-color:#cdb3f5}

/* === PROGRESS === */
.progress{height:4px;background:var(--border);border-radius:9999px;overflow:hidden}
.progress-bar{height:100%;background:var(--primary);border-radius:9999px;transition:width .4s ease}

/* === OPTION (Radio/Checkbox card) === */
.opt{display:flex;align-items:flex-start;gap:12px;padding:12px 16px;border:1px solid var(--border);border-radius:var(--radius);cursor:pointer;transition:all var(--transition);user-select:none}
.opt:hover:not(.opt-disabled){border-color:var(--border-hover);background:var(--bg-card-hover)}
.opt-indicator{flex-shrink:0;width:20px;height:20px;border:2px solid var(--fg-dim);border-radius:4px;display:flex;align-items:center;justify-content:center;transition:all var(--transition);margin-top:1px;font-size:.7rem;color:transparent}
.opt-radio .opt-indicator{border-radius:50%}
.opt-selected{border-color:var(--primary);background:var(--primary-subtle)}
.opt-selected .opt-indicator{border-color:var(--primary);background:var(--primary);color:#fff}
.opt-correct{border-color:var(--success);background:var(--success-subtle)}
.opt-correct .opt-indicator{border-color:var(--success);background:var(--success);color:#fff}
.opt-wrong{border-color:var(--danger);background:var(--danger-subtle)}
.opt-wrong .opt-indicator{border-color:var(--danger);background:var(--danger);color:#fff}
.opt-disabled{cursor:default;opacity:.85}
.opt-label{font-size:.875rem;line-height:1.5;letter-spacing:-.01em;flex:1}
.opt-letter{font-size:.7rem;font-weight:600;color:var(--fg-dim);margin-right:4px}

/* === LAYOUT HELPERS === */
.flex{display:flex}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}
.items-center{align-items:center}.justify-between{justify-content:space-between}.justify-center{justify-content:center}
.gap-2{gap:8px}.gap-3{gap:12px}.gap-4{gap:16px}
.grid{display:grid}.grid-2{grid-template-columns:repeat(2,1fr)}
.w-full{width:100%}.text-center{text-align:center}
.text-sm{font-size:.875rem}.text-xs{font-size:.75rem}.text-lg{font-size:1.125rem}
.font-medium{font-weight:500}.font-semibold{font-weight:600}
.text-muted{color:var(--fg-muted)}.text-dim{color:var(--fg-dim)}
.mt-2{margin-top:8px}.mt-3{margin-top:12px}.mt-4{margin-top:16px}.mb-2{margin-bottom:8px}.mb-3{margin-bottom:12px}.mb-4{margin-bottom:16px}
.p-4{padding:16px}

/* === BREADCRUMB === */
.breadcrumb{display:flex;align-items:center;gap:6px;font-size:.8rem;color:var(--fg-dim);margin-bottom:16px;flex-wrap:wrap}
.breadcrumb a{color:var(--fg-muted);cursor:pointer;text-decoration:none;transition:color var(--transition)}
.breadcrumb a:hover{color:var(--fg)}
.breadcrumb .bc-sep{color:var(--fg-dim);font-size:.65rem}

/* === EXAM CARD === */
.exam-card{background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius-lg);padding:16px;cursor:pointer;transition:all var(--transition)}
.exam-card:hover:not(.exam-disabled){border-color:var(--border-hover);background:var(--bg-card-hover);transform:translateY(-1px)}
.exam-disabled{opacity:.4;cursor:not-allowed}

/* === CHIP / TOGGLE GROUP === */
.chip-group{display:flex;flex-wrap:wrap;gap:6px}
.chip{padding:5px 12px;font-size:.8rem;border:1px solid var(--border);border-radius:var(--radius);cursor:pointer;transition:all var(--transition);color:var(--fg-muted);background:transparent}
.chip:hover{border-color:var(--border-hover);color:var(--fg)}
.chip.active{background:var(--primary);color:#fff;border-color:var(--primary)}

/* === EXPLANATION === */
.explanation{background:var(--primary-subtle);border:1px solid var(--primary);border-radius:var(--radius);padding:14px 16px;margin-top:16px}
.explanation h4{font-size:.8rem;font-weight:600;color:var(--primary);margin-bottom:6px;display:flex;align-items:center;gap:6px}
.explanation p{font-size:.85rem;color:var(--fg-muted);line-height:1.6}

/* === ALERT === */
.btn-skip{background:transparent;color:#f59e0b;border:1px solid #f59e0b;font-size:.75rem;padding:4px 8px;gap:4px}
.btn-skip:hover{background:#fefce8}

/* === RESULT === */
.score-ring{width:120px;height:120px;border-radius:50%;display:flex;flex-direction:column;align-items:center;justify-content:center;margin:0 auto 16px;border:4px solid var(--border)}
.score-ring.pass{border-color:var(--success);background:var(--success-subtle)}
.score-ring.fail{border-color:var(--danger);background:var(--danger-subtle)}
.score-ring .pct{font-size:1.6rem;font-weight:700;letter-spacing:-.03em}
.score-ring .sub{font-size:.75rem;color:var(--fg-muted)}
.score-ring.pass .pct{color:var(--success)}
.score-ring.fail .pct{color:var(--danger)}

/* === REVIEW === */
.review{border:1px solid var(--border);border-radius:var(--radius);overflow:hidden}
.review-item{padding:12px 16px;border-bottom:1px solid var(--border)}
.review-item:last-child{border-bottom:none}

/* === SPINNER === */
@keyframes spin{to{transform:rotate(360deg)}}
.spinner{width:24px;height:24px;border:2px solid var(--border);border-top-color:var(--primary);border-radius:50%;animation:spin .6s linear infinite}

/* === AWS TIER BADGES === */
.badge-foundational{background:transparent;color:#2e3947;border-color:transparent}
.badge-associate{background:transparent;color:#0d1e91;border-color:transparent}
.badge-professional{background:transparent;color:#01607f;border-color:transparent}
.badge-specialty{background:transparent;color:#3c1c8d;border-color:transparent}

/* === DARK THEME === */
html.dark{
  --bg:#232b37;--bg-card:#2a3344;--bg-card-hover:#323d50;
  --border:#3b4758;--border-hover:#5a6a80;
  --ring:#8899aa;--ring-offset:#232b37;
  --fg:#e8ecf1;--fg-muted:#9aa8b8;--fg-dim:#6b7b8d;
  --primary:#f97316;--primary-fg:#fff;--primary-hover:#fb923c;--primary-subtle:#3d2f1f;
  --success:#22c55e;--success-subtle:#1e3328;--success-fg:#4ade80;
  --danger:#ef4444;--danger-subtle:#3a2222;--danger-fg:#f87171;
  --info:#3b82f6;--info-subtle:#222d3f;--info-fg:#60a5fa;
  --purple:#a78bfa;--purple-subtle:#2e273d;
  --shadow-sm:0 1px 2px rgba(0,0,0,.3);
  --shadow:0 1px 3px rgba(0,0,0,.3),0 1px 2px rgba(0,0,0,.2);
}
html.dark .badge-danger{border-color:#6b3333}
html.dark .badge-success{border-color:#2a5e3f}
html.dark .badge-purple{border-color:#4a3a6b}
html.dark .badge-muted{background:#323d50;color:var(--fg-muted);border-color:#3b4758}
html.dark .badge-primary{background:var(--bg-card);color:var(--primary);border-color:var(--primary)}
html.dark .explanation{background:var(--primary-subtle);border-color:var(--primary)}
html.dark .btn-skip{background:transparent;border-color:#b45309;color:#fbbf24}
html.dark .btn-skip:hover{background:#342a10}
html.dark .badge-foundational{background:transparent;color:#8a9bab;border-color:transparent}
html.dark .badge-associate{background:transparent;color:#7b8ef5;border-color:transparent}
html.dark .badge-professional{background:transparent;color:#4db8d4;border-color:transparent}
html.dark .badge-specialty{background:transparent;color:#9b7be6;border-color:transparent}

/* === THEME TOGGLE === */
.theme-toggle{position:fixed;top:12px;right:12px;z-index:50;width:36px;height:36px;border-radius:var(--radius);border:1px solid var(--border);background:var(--bg-card);color:var(--fg-muted);display:none;align-items:center;justify-content:center;cursor:pointer;transition:all var(--transition);box-shadow:var(--shadow-sm)}
.theme-toggle:hover{border-color:var(--border-hover);color:var(--fg);background:var(--bg-card-hover)}

/* === RESPONSIVE === */
@media(max-width:480px){
  .grid-2{grid-template-columns:1fr}
}
